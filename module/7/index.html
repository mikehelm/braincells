<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BrainCells Module 7 ‚Äî Marketing Superpowers</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/components.css">
  <link rel="stylesheet" href="../../css/layout.css">
  <script src="../../js/theme.js"></script>
  <link rel="stylesheet" href="../../css/module.css">
</head>
<body>

<header class="site-header">
  <div class="header-inner">
    <a href="../../index.html" class="header-logo">ü¶û BrainCells</a>
    <nav class="header-nav">
      <a href="../../index.html" class="nav-link">Home</a>
      <a href="../../progress.html" class="nav-link">Progress</a>
      <a href="../../resources.html" class="nav-link">Resources</a>
      <a href="../../story.html" class="nav-link">The Story</a>
      <a href="../../about.html" class="nav-link">About</a>
    </nav>
    <div class="header-cells">
      <span class="cells-icon">üß†</span>
      <span class="cells-count" id="header-cells">0</span>
      <span class="cells-label">Brain Cells</span>
    </div>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
      <span id="theme-icon">üåô</span>
    </button>
  </div>
</header>

<main>
  <div class="module-content">
    
    <div class="module-hero">
      <div class="module-hero-inner">
        <div class="module-hero-meta">
          <a href="../../index.html" class="module-hero-back">‚Üê Back to course</a>
          <span class="module-hero-progress">Module 7 of 8</span>
        </div>
        <h1 class="module-hero-title">Module 7: Marketing Superpowers</h1>
        <p class="module-hero-subtitle">Scraping, Growth & Enrichment</p>
        <div class="module-hero-stats">
          <span>‚è± ~90 min</span>
          <span>üß† 350 Brain Cells</span>
          <span>üìù 5-question quiz</span>
        </div>
      </div>
    </div>
  <div class="lesson-layout">
      <aside class="lesson-toc" id="lesson-toc">
        <div class="toc-inner">
          <div class="toc-label">In this module</div>
          <nav id="toc-nav"></nav>
        </div>
      </aside>
      <article class="module-body" id="module-body">
  <section class="section-videos reveal">
    <h3 class="videos-heading">üé• Required Viewing</h3>
    
    <div class="video-wrap">
      <div class="video-label">Marketing Automation with AI Agents</div>
      <div class="video-responsive">
        <iframe src="https://www.youtube.com/embed/1c_9tuQdkLY" 
                title="Marketing Automation with AI Agents"
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen></iframe>
      </div>
    </div>
  </section>      <h1>MODULE 7: Marketing Superpowers</h1>
<h2><em>Web Scraping, Database Growth, Contact Enrichment ‚Äî The Good Stuff</em></h2>
<blockquote>
<p>üß† <strong>Brain Cells at stake:</strong> 350 base + up to 140 bonus (quiz)<br>‚è±Ô∏è <strong>Estimated time:</strong> ~90 minutes<br>üéØ <strong>Unlock:</strong> Requires Module 6 completion</p>
</blockquote>
<hr>
<h3>Learning Objectives</h3>
<p>By the end of this module, Graham will be able to:</p>
<ul>
<li><input disabled="" type="checkbox"> Understand what web scraping is and what it&#39;s ethically/legally appropriate for</li>
<li><input disabled="" type="checkbox"> Describe 5 marketing use cases for AI-powered data gathering</li>
<li><input disabled="" type="checkbox"> Know how Mike&#39;s pre-built automations work and how to trigger them</li>
<li><input disabled="" type="checkbox"> Set up a basic lead enrichment workflow</li>
<li><input disabled="" type="checkbox"> Understand contact database growth via automated research</li>
<li><input disabled="" type="checkbox"> Know when to run automations vs. when to review them before acting</li>
</ul>
<hr>
<h3>Key Concepts to Cover</h3>
<p><strong>1. What is web scraping? (Plain English)</strong></p>
<ul>
<li>Web scraping = automatically reading publicly available information from websites</li>
<li>Instead of you manually visiting 100 company pages and copy-pasting data ‚Üí your AI does it</li>
<li>Publicly available data (job titles, company names, public LinkedIn info) = generally fine</li>
<li>Private data, data behind logins, GDPR-protected personal data = be careful (laws apply)</li>
<li><strong>Graham&#39;s rule of thumb:</strong> &quot;If a human could look at this and write it down, my AI can too&quot;</li>
</ul>
<p><strong>2. Contact database growth ‚Äî the core use case</strong></p>
<p><strong>The manual way:</strong> Graham visits conference attendee pages, LinkedIn, company websites... one by one. Copies names, titles, emails, companies. Takes days.</p>
<p><strong>The OpenClaw way:</strong></p>
<div class="code-block"><code>Graham: &quot;Find me the LinkedIn profiles and company info for everyone who spoke at 
         [Industry Conference 2025]. I want: name, title, company, LinkedIn URL, 
         company size if visible, email if public.&quot;

OpenClaw: &quot;On it. Will take about 15 minutes. I&#39;ll send you the results as a 
           formatted spreadsheet.&quot;

[15 minutes later]

OpenClaw: &quot;Done. Found 47 speakers. 41 have LinkedIn profiles. 12 had public 
           contact info. Here&#39;s the CSV. ü¶û&quot;
</code></div>
<p>That&#39;s the dream. And it&#39;s real.</p>
<p><strong>3. Contact enrichment ‚Äî making your existing list smarter</strong></p>
<p>You have a list of company names. OpenClaw can:</p>
<ul>
<li>Find the right decision-maker at each company (by role)</li>
<li>Find their title, LinkedIn, public contact info</li>
<li>Note company size, industry, recent news</li>
<li>Score leads by relevance criteria you define</li>
</ul>
<p><strong>Mike will provide a pre-built enrichment prompt</strong> ‚Äî Graham triggers it, reviews results, imports to CRM.</p>
<p><strong>4. Competitor monitoring ‚Äî knowing before they know you know</strong></p>
<p>Set up weekly automated checks:</p>
<ul>
<li>Check competitor pricing pages for changes</li>
<li>Monitor their blog/news for new product announcements  </li>
<li>Track their job postings (hiring signals)</li>
<li>Watch for new case studies or testimonials</li>
</ul>
<div class="code-block"><code class="language-bash"># Competitor monitoring cron (set and forget)
openclaw cron add \
  --name &quot;Weekly Competitor Watch&quot; \
  --cron &quot;0 9 * * 1&quot; \
  --session isolated \
  --message &quot;Check [Competitor A] and [Competitor B] websites for pricing changes, 
             new product pages, or major announcements since last Monday. 
             Summarize in under 10 bullet points.&quot; \
  --announce --channel telegram
</code></div>
<p><strong>5. The ethics and limits ‚Äî being a responsible user</strong></p>
<p>‚úÖ <strong>Fine to automate:</strong></p>
<ul>
<li>Public business information (company names, addresses, public phone numbers)</li>
<li>Public social media profiles (names, job titles, public posts)</li>
<li>Conference speaker lists, industry directories</li>
<li>Public pricing pages</li>
<li>News articles and press releases</li>
</ul>
<p>‚ö†Ô∏è <strong>Be careful with:</strong></p>
<ul>
<li>Email addresses (even public ones ‚Äî GDPR applies in many countries)</li>
<li>Personal information about private individuals (not businesses)</li>
<li>High-volume scraping of websites (be respectful of their servers)</li>
<li>Any data from behind a login wall</li>
</ul>
<p>‚ùå <strong>Don&#39;t:</strong></p>
<ul>
<li>Scrape data you&#39;d need to log in to see</li>
<li>Violate a website&#39;s Terms of Service</li>
<li>Use scraped data in ways that violate GDPR or local privacy laws</li>
<li>Spam people with scraped contact info</li>
</ul>
<p><strong>6. Mike&#39;s pre-built automations ‚Äî how to use them</strong></p>
<p>Mike has built (or will build) several ready-to-go automation templates for Graham:</p>
<ul>
<li>Lead enrichment template (trigger ‚Üí review ‚Üí CRM import)</li>
<li>Competitor monitoring setup</li>
<li>Conference/event attendee research</li>
<li>CRM data quality checker</li>
</ul>
<p>Graham triggers these with a simple message, reviews the output, then decides what to do with it. He&#39;s always in control.</p>
<hr>
<h3>Suggested Videos for This Module</h3>
<ol>
<li>üé• <strong>&quot;How I Built a Web Scraping AI Agent&quot;</strong> (Tech With Tim) ‚Äî <a href="https://www.youtube.com/watch?v=G5djZjdxVvo">https://www.youtube.com/watch?v=G5djZjdxVvo</a> ‚Äî <em>Shows the concept in action (~20 min)</em></li>
<li>üé• <strong>&quot;How I Use AI to Automate 80% of My Marketing&quot;</strong> ‚Äî <a href="https://www.youtube.com/watch?v=XKqNdX0qNRI">https://www.youtube.com/watch?v=XKqNdX0qNRI</a> ‚Äî <em>13 strategies ‚Äî inspiration fuel</em></li>
<li>üé• <strong>&quot;AI for Marketers: Automation &amp; Personalization&quot;</strong> ‚Äî <a href="https://www.youtube.com/watch?v=_SFiSfA6_2U">https://www.youtube.com/watch?v=_SFiSfA6_2U</a> ‚Äî <em>Marketing-specific examples</em></li>
</ol>
<hr>
<h3>Quiz ‚Äî Module 7</h3>
<p><strong>Complete for up to 140 bonus Brain Cells (28 per correct answer)</strong></p>
<p><strong>Q1:</strong> Graham wants to collect the job titles and LinkedIn URLs for all speakers at a major industry conference. The speaker list is publicly visible on the conference website. Is this generally appropriate to automate?<br>‚úÖ <strong>Answer:</strong> Yes ‚Äî this is publicly available business information, visible to any human visiting the site. Automating the research of publicly available data is generally appropriate. He should still review the data before using it and be mindful of local privacy laws before emailing anyone.</p>
<p><strong>Q2:</strong> What is &quot;contact enrichment&quot;?<br>‚úÖ <strong>Answer:</strong> Taking an existing contact list (with partial data like company names) and automatically researching to add more details ‚Äî job titles, LinkedIn profiles, company size, industry, contact info. Turning thin data into rich data.</p>
<p><strong>Q3:</strong> Graham sets up a competitor monitoring cron job. It runs every Monday. What&#39;s the ideal output format for the results?<br>‚úÖ <strong>Answer (any reasonable answer):</strong> Short bullet-point summary (under 10 items), highlighting only what CHANGED since last check. Flagging anything significant for Graham&#39;s attention. Not a wall of text.</p>
<p><strong>Q4:</strong> Name two types of data that Graham should NOT automate the collection of.<br>‚úÖ <strong>Answer (any two):</strong> Personal data about private individuals; data behind a login wall; emails at such volume it becomes spam infrastructure; any data the website&#39;s Terms of Service prohibits scraping.</p>
<p><strong>Q5:</strong> After Graham&#39;s OpenClaw returns a list of 50 enriched contacts, what&#39;s the right next step before importing to CRM?<br>‚úÖ <strong>Answer:</strong> Review the results ‚Äî spot-check accuracy (AI can make mistakes), remove any entries that don&#39;t meet criteria, verify email addresses before sending anything, ensure compliance with privacy laws for his jurisdiction.</p>
<hr>
<h3>üîì Unlock Criteria for Module 8</h3>
<ul>
<li>Complete quiz with 4/5 correct AND</li>
<li>Successfully trigger at least one of Mike&#39;s pre-built automation templates AND</li>
<li>Review and approve (or modify) the output</li>
<li><strong>Achievement Unlock:</strong> &quot;Marketing Machine&quot; üöÄ (+35 bonus Brain Cells)</li>
<li><strong>Big Brain Award:</strong> Perfect module score = &quot;Galaxy Brain Status&quot; üåå (+50 bonus)</li>
</ul>
<hr>
<h3>Humor Notes for Module 7</h3>
<ul>
<li>The &quot;Graham asks / OpenClaw responds&quot; dialogue is the money shot ‚Äî make it vivid and aspirational</li>
<li>The ethics section must be respectful and clear but doesn&#39;t have to be preachy</li>
<li>&quot;Mike will provide pre-built automations&quot; is a recurring comfort ‚Äî Graham is never alone in this</li>
<li>End on excitement: this module is where the ROI becomes obvious</li>
</ul>
<hr>
<hr>

  <div class="drama-break reveal">
    <div class="drama-break__header">
      <span class="drama-break__icon">üé≠</span>
      <h3 class="drama-break__title">üé≠ Drama Break: Graham Meets His Numbers</h3>
    </div>
    <div class="drama-break__body">
      <p>Here's the part where the course gets personal. The lead enrichment module isn't theoretical ‚Äî it's the exact workflow that marketing professionals use to turn a conference attendee list into a warm outreach pipeline.

The companies Otto automated research for? Their marketing teams spent <strong>6‚Äì8 hours per week</strong> doing this manually. With OpenClaw: <strong>15 minutes, zero human effort.</strong>

That gap ‚Äî 6 hours vs 15 minutes ‚Äî compounds every single week. By year's end, that's <strong>300+ hours back</strong> in your life. What would you do with 300 extra hours, Graham?</p>
    </div>
  </div>

    
  <section class="quiz-section reveal" id="quiz">
    <h2 class="quiz-title">üß† Module 7 Quiz</h2>
    <p class="quiz-subtitle">Answer all 5 questions to earn your Brain Cells. Perfect score = Neuron Boost!</p>
    <div class="quiz-cards">
      
    <div class="quiz-card" data-q="0">
      <div class="quiz-q-num">Q1.</div>
      <p class="quiz-q-text">What is "lead enrichment" in the marketing context?</p>
      <div class="quiz-opts">
        
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_0" value="0"> Making leads more colorful
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_0" value="1"> Sending more emails
          </label>
          <label class="quiz-opt" data-correct="true">
            <input type="radio" name="q7_0" value="2"> Taking a basic contact list and automatically adding context (title, company, LinkedIn, email)
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_0" value="3"> A type of CRM
          </label>
      </div>
      <div class="quiz-feedback" style="display:none"></div>
    </div>
    <div class="quiz-card" data-q="1">
      <div class="quiz-q-num">Q2.</div>
      <p class="quiz-q-text">What tool does OpenClaw use for web research?</p>
      <div class="quiz-opts">
        
          <label class="quiz-opt" data-correct="true">
            <input type="radio" name="q7_1" value="0"> Web search + web fetch tools ‚Äî allowing it to browse the web autonomously
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_1" value="1"> Only Google
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_1" value="2"> Manual copy-paste
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_1" value="3"> A physical newspaper
          </label>
      </div>
      <div class="quiz-feedback" style="display:none"></div>
    </div>
    <div class="quiz-card" data-q="2">
      <div class="quiz-q-num">Q3.</div>
      <p class="quiz-q-text">What's the typical time saving for lead research automation?</p>
      <div class="quiz-opts">
        
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_2" value="0"> 5 minutes vs 6 minutes
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_2" value="1"> 1 hour vs 1.5 hours
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_2" value="2"> 30 minutes vs 45 minutes
          </label>
          <label class="quiz-opt" data-correct="true">
            <input type="radio" name="q7_2" value="3"> 6-8 hours per week vs ~15 minutes with automation
          </label>
      </div>
      <div class="quiz-feedback" style="display:none"></div>
    </div>
    <div class="quiz-card" data-q="3">
      <div class="quiz-q-num">Q4.</div>
      <p class="quiz-q-text">What is competitor monitoring and why does it matter?</p>
      <div class="quiz-opts">
        
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_3" value="0"> Spying illegally
          </label>
          <label class="quiz-opt" data-correct="true">
            <input type="radio" name="q7_3" value="1"> Automatically tracking what changes on competitor websites, pricing, messaging ‚Äî giving you strategic intel on autopilot
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_3" value="2"> A type of Google Alert
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_3" value="3"> A sales technique
          </label>
      </div>
      <div class="quiz-feedback" style="display:none"></div>
    </div>
    <div class="quiz-card" data-q="4">
      <div class="quiz-q-num">Q5.</div>
      <p class="quiz-q-text">What does "compounding" mean in the context of your AI agent?</p>
      <div class="quiz-opts">
        
          <label class="quiz-opt" data-correct="true">
            <input type="radio" name="q7_4" value="0"> It gets better over time as it learns your preferences, CRM format, clients by name, and workflows
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_4" value="1"> Interest rates
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_4" value="2"> More API calls
          </label>
          <label class="quiz-opt" data-correct="false">
            <input type="radio" name="q7_4" value="3"> The AI copies itself
          </label>
      </div>
      <div class="quiz-feedback" style="display:none"></div>
    </div>
    </div>
    <div class="quiz-actions">
      <button class="btn btn-primary" id="quiz-submit-7" onclick="submitQuiz(7, 140)">
        Submit Answers üß†
      </button>
    </div>
    <div class="quiz-result" id="quiz-result-7" style="display:none"></div>
  </section>

    <div class="complete-btn-wrap reveal">
      <button class="btn btn-primary btn-lg" id="complete-btn-7" onclick="completeModule(7, 350)">
        ‚úÖ Mark Module 7 Complete (+350 üß†)
      </button>
    </div>

    <div class="module-nav reveal"><a href="../6/index.html" class="btn btn-outline">‚Üê Module 6</a> <span style="opacity:.5;font-size:.9rem;">Module 7 of 8</span> <a href="../8/index.html" class="btn btn-outline">Module 8 ‚Üí</a></div>

    </article>
  </div>
  </div>
</main>

<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-logo">ü¶û BrainCells</div>
    <p class="footer-tagline">A course built for Graham Brain by Mike Helm (with significant assistance from Otto, the AI)</p>
    <p class="footer-copy">Made with ü¶û and an embarrassing number of Brain Cell puns.</p>
  </div>
</footer>

<script src="../../js/state.js"></script>
<script src="../../js/achievements.js"></script>
<script src="../../js/unlock.js"></script>
<script>
  (function() {
    const bar = document.createElement('div');
    bar.className = 'reading-progress-bar';
    document.body.prepend(bar);
    window.addEventListener('scroll', () => {
      const docH = document.documentElement.scrollHeight - window.innerHeight;
      bar.style.width = docH > 0 ? (window.scrollY / docH * 100) + '%' : '0%';
    }, { passive: true });
  })();

  // Update header cells on load
  (function() {
    const state = window.BrainState ? window.BrainState.load() : { brainCells: 0 };
    const el = document.getElementById('header-cells');
    if (el) el.textContent = state.brainCells || 0;
    
    // Check if already completed
    const modState = state.modules && state.modules[7];
    if (modState && modState.completedAt) {
      const btn = document.getElementById('complete-btn-7');
      if (btn) { btn.textContent = '‚úÖ Module 7 Complete!'; btn.disabled = true; btn.style.opacity = '.6'; }
    }
  })();

  function completeModule(num, cells) {
    if (!window.BrainState) return;
    const result = BrainState.completeModule(num, cells);
    if (!result) { alert('Already completed!'); return; }

    launchConfetti();
    
    const btn = document.getElementById('complete-btn-' + num);
    if (btn) { btn.textContent = 'üéâ Completed! +' + cells + ' Brain Cells!'; btn.disabled = true; btn.style.opacity = '.6'; }
    
    // Update header
    const state = BrainState.load();
    const el = document.getElementById('header-cells');
    if (el) el.textContent = state.brainCells;
    
    if (window.Achievements) Achievements.check(state);
    if (window.Unlock) Unlock.check(num, state);
    
    setTimeout(() => {
      if (confirm('Module 7 complete! üß† You earned ' + cells + ' Brain Cells!\n\nHead to the next module?')) {
        window.location.href = '../8/index.html';
      }
    }, 300);
  }

  (function() {
    document.querySelectorAll('.quiz-opt input[type="radio"]').forEach(input => {
      input.addEventListener('change', () => {
        const card = input.closest('.quiz-card');
        if (!card) return;
        card.querySelectorAll('.quiz-opt').forEach(opt => opt.classList.remove('selected'));
        const selectedOpt = input.closest('.quiz-opt');
        if (selectedOpt) selectedOpt.classList.add('selected');
      });
    });

    document.querySelectorAll('.module-body h2, .module-body h3, .module-body blockquote, .module-body .callout, .module-body .key-takeaway, .module-body ul, .module-body ol').forEach(el => {
      el.classList.add('reveal');
    });

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('visible');
          observer.unobserve(e.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
  })();

  (function() {
    const nav = document.getElementById('toc-nav');
    if (!nav) return;

    const headings = document.querySelectorAll('.module-body h2, .module-body h3');
    headings.forEach((h, i) => {
      if (!h.id) h.id = 'section-' + i;
      const a = document.createElement('a');
      a.href = '#' + h.id;
      a.textContent = h.textContent;
      a.className = h.tagName === 'H3' ? 'toc-h3' : '';
      a.onclick = e => {
        e.preventDefault();
        h.scrollIntoView({ behavior: 'smooth', block: 'start' });
      };
      nav.appendChild(a);
    });

    const io = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const id = e.target.id;
        const link = nav.querySelector('[href="#' + id + '"]');
        if (link) link.classList.toggle('active', e.isIntersecting);
      });
    }, { rootMargin: '-10% 0px -80% 0px' });

    headings.forEach(h => io.observe(h));
  })();

  function launchConfetti() {
    const canvas = document.createElement('canvas');
    canvas.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10000';
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const pieces = Array.from({ length: 120 }, () => ({
      x: Math.random() * canvas.width,
      y: -20,
      vx: (Math.random() - 0.5) * 6,
      vy: Math.random() * 5 + 3,
      r: Math.random() * 6 + 3,
      color: ['#00C9A7', '#F5A623', '#00C9A7', '#ec4899', '#22c55e'][Math.floor(Math.random() * 5)],
      rot: Math.random() * 360,
      drot: (Math.random() - 0.5) * 8
    }));

    let frame = 0;
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      pieces.forEach(p => {
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot * Math.PI / 180);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r / 1.5);
        ctx.restore();
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.12;
        p.rot += p.drot;
      });
      if (++frame < 180) requestAnimationFrame(draw);
      else canvas.remove();
    }
    draw();
  }
  function submitQuiz(num, maxCells) {
    const questions = document.querySelectorAll('.quiz-card');
    let correct = 0;
    let answered = 0;
    
    questions.forEach((qEl, i) => {
      const opts = qEl.querySelectorAll('.quiz-opt');
      const selected = qEl.querySelector('input:checked');
      if (!selected) return;
      answered++;
      
      const isCorrect = selected.closest('.quiz-opt').dataset.correct === 'true';
      const feedback = qEl.querySelector('.quiz-feedback');
      
      opts.forEach(opt => {
        if (opt.dataset.correct === 'true') opt.classList.add('correct');
        else if (opt.querySelector('input:checked')) opt.classList.add('wrong');
        opt.querySelector('input').disabled = true;
      });
      
      if (feedback) {
        feedback.style.display = 'block';
        feedback.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'wrong');
        feedback.textContent = isCorrect ? '‚úÖ Correct!' : '‚ùå Not quite ‚Äî the correct answer is highlighted above.';
      }
      if (isCorrect) correct++;
    });
    
    if (answered < questions.length) { alert('Please answer all questions first!'); return; }
    
    const btn = document.getElementById('quiz-submit-' + num);
    if (btn) btn.style.display = 'none';
    
    const earned = Math.round((correct / questions.length) * maxCells);
    const bonus = correct === questions.length ? Math.round(maxCells * 0.5) : 0;
    const total = earned + bonus;
    
    const resultEl = document.getElementById('quiz-result-' + num);
    let cls = correct >= 4 ? 'great' : (correct >= 2 ? 'ok' : 'retry');
    let msg = '';
    if (correct === 5) msg = 'üèÜ Perfect score! Neuron Boost activated ‚Äî bonus Brain Cells earned! +' + total + ' üß†';
    else if (correct >= 3) msg = '‚úÖ Good work! ' + correct + '/5 correct. You earned ' + total + ' Brain Cells. üß†';
    else msg = 'üìö ' + correct + '/5 correct. Review the material and try again for more Brain Cells.';
    
    if (resultEl) {
      resultEl.className = 'quiz-result ' + cls;
      resultEl.innerHTML = '<strong>' + msg + '</strong>';
      resultEl.style.display = 'block';
    }
    
    if (window.BrainState && total > 0) {
      BrainState.addCells(total, 'quiz_module_' + num);
      const state = BrainState.load();
      const el = document.getElementById('header-cells');
      if (el) el.textContent = state.brainCells;
    }
  }
</script>
</body>
</html>
